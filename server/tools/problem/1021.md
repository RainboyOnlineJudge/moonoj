---
title: 【noip2017南宁二中冲刺】二 T3 怎样打好隔膜
time: 2000
memory: 128
hidden: false
---

## 【问题描述】

OI大师抖儿在夺得银牌之后，顺利保送PKU。这一天，抖儿问长者： “我的手速虽然已经站在了人类的巅峰，但是打隔膜还是输。我换了很多队友，但是没有用。请问应该怎样打好隔膜？”

长者回答： “你啊，Too Young Too Simple,Sometimes Naive!不过你来看看这个游戏，或许对你有些帮助。 ”

这是一个类似星球大战的游戏。有 n 个星球排成一列，第 i 个星球和第 i+1个星球存在一条耗时为 1的航线。同时还存在 m扇传送门，一扇由 i到 j 的传送门可以瞬间将抖儿从第 i 个星球传送到第 j 个星球或从第 j 个星球传送到第 i 个星球，但是传送完毕后传送门会消失。此外，抖儿目前的资源可以额外建造不多于 p扇传送门。

抖儿可以从任意一个星球出发，经过所有的航线（可经过多次）和传送门，然后在任意一个星球结束。抖儿自然希望能在尽量短的时间内完成任务，请你帮忙计算答案。

## 【输入格式】

第一行三个整数 n，m，p，表示星球数、原有传送门数和最多可添加的传送门数。

接下来 m行每行两个整数 ai，bi，表示传送门连接的两个星球。

## 【输出格式】

输出仅一行为一个整数，表示最短时间。

## 【输入样例 1】

```
8 3 1
2 7
3 5
4 6
```

## 【输出样例 1】

```
9
```

## 【样例 1 说明】

建造一扇连接 2、3两点的传送门

用时最短的路径为 1→2→7→6→5→3→2→3→4→5→4→6→7→8

【输入输出样例 2】

见选手目录下的 gemo/gemo2.in 和 gemo/gemo2.out

http://paste.ubuntu.com/25809106/

http://paste.ubuntu.com/25809109/

![](http://ww1.sinaimg.cn/large/618359cbgy1fktmygzxpkj20sc0o73zh.jpg)

## 【后记】

抖儿深深沉迷于这个游戏不能自拔，日渐消瘦。

终于有一天，抖儿大彻大悟，说： “我知道了！玩游戏要的不仅仅是蛮力和手速，还需要智慧和策略。 ”

长者嘿嘿一笑： “你想多了。难道你还没发现你只适合玩单机游戏？”

抖儿恼羞成怒，便怂恿香港记者们造了一个大新闻，将长者批判了一番。
