---
title: 【2017南京师大附中模拟题】T2 保护数列
time: 2000
memory: 256
hidden: false
---

## 【问题描述】

现在有一个由 n 个非负整数构成的数列。Jimmy 被上司命令保护这个数列，防止数列中的信息被窃取。
如果这个数列的某个**连续子数列**的所有元素进行按位异或（xor）运算得到的值和与（and）运算得到的值相同，那么称这个连续子数列是**有效的**。

Jimmy 想知道这个数列的**检验值**，检验值定义为有效的连续子数列的个数。你的任务是帮助 Jimmy 计算这个数列的检验值。

## 【输入格式】

第一行一个整数 n。

第二行 n 个非负整数 ai，表示这个数列。

## 【输出格式】

一行一个整数 ans，表示这个数列的检验值。

## 【样例输入】

```
4
1 2 3 3
```

## 【样例输出】

```
6
```

## 【样例说明】

下图是对样例的解释，第 i 行第 j 列的元素表示从 i 到 j 的连续子数列里所
有元素进行 xor 运算和 and 运算的值，所以它的检验值是  6。

![](http://ww1.sinaimg.cn/large/618359cbgy1fkqzoy3xeqj20d4062mxf.jpg)

## 【数据规模和约定】

Subtask 1（35 points）n≤500，ai≤2^31-1

Subtask 2（65 points）n≤100000，ai≤2^31-1

## 【提示】

 - 1、本题有 78 个测试点。
 - 2、标程（本人写的）滥用 STL，可能会在最终评测时超时。大家不要惊慌。
 - 3、这也是一次能踩标程的机会=v=
